# GUI测试用例文档

## 文档概述

本文档详细描述了VidTimelineX GUI应用程序的完整测试用例集，涵盖所有功能模块、用户交互场景、边界条件和异常处理。测试用例遵循标准的软件测试规范，包含唯一标识符、前置条件、操作步骤、预期结果和判定标准，确保测试的可重复性和可追溯性。

## 测试范围

本测试用例集覆盖以下功能模块：主窗口模块负责整体界面框架和导航结构的管理；爬虫功能模块处理视频数据的批量和单条爬取；数据管理模块提供视频数据的查看、搜索、编辑和删除功能；封面管理模块处理封面图片的展示、下载和批量操作；时间线管理模块负责时间线数据的生成、查看和导出；设置管理模块提供系统配置和数据类型管理功能。每个模块都包含正向测试、异常测试和边界条件测试，确保系统在各种场景下都能正确运行。

---

## 测试环境要求

### 硬件环境

测试执行需要以下硬件配置：处理器要求Intel Core i5或同等性能以上，以保证GUI界面的流畅响应；内存要求最低8GB，推荐16GB，以支持多模块同时运行和大量数据处理；硬盘空间要求至少500MB可用空间，用于存储测试数据和临时文件；显示器分辨率要求1280x800或更高，以确保界面元素完整显示。

### 软件环境

软件环境要求包括：操作系统为Windows 10/11或macOS 10.15以上版本；Python版本为3.8或更高；PyQt5版本为5.15.0或更高；测试数据目录需要预先创建，包括lvjiang和tiantong两个数据类型的完整目录结构。网络环境需要能够访问B站API接口，用于爬虫功能的实际测试。

### 测试数据准备

测试前需要准备以下数据：在data/lvjiang/videos/目录中放置至少5个有效的视频JSON文件；在data/lvjiang/covers/目录中放置对应的封面图片；在data/lvjiang/timelines/目录中放置至少2个时间线JSON文件；在data/sources/bv-lists/目录中放置包含10个以上BV号的测试文本文件。这些测试数据将用于验证各个功能模块的正确性。

---

## 测试用例命名规范

### 标识符格式

测试用例标识符采用模块代码-测试类型-序列号的格式，便于分类管理和快速定位。模块代码由3位字母组成，如MWN表示主窗口模块（MainWindow）的正常流程测试（MWT表示异常流程测试）。测试类型包括：N表示正常流程测试（Normal Flow），E表示异常流程测试（Exception Flow），B表示边界条件测试（Boundary Testing），D表示破坏性测试（Destructive Testing）。序列号为3位数字，从001开始递增。

### 示例说明

例如，标识符"MWN-001"表示主窗口模块的第001号正常流程测试用例；"CWE-003"表示爬虫功能模块的第003号异常流程测试用例；"DMB-002"表示数据管理模块的第002号边界条件测试用例。这种命名规范使得测试用例的组织结构清晰，便于测试报告的生成和维护。

---

## 一、主窗口模块测试用例

### 1.1 窗口初始化测试

#### 测试用例：MWN-001 - 主窗口正常启动

**前置条件**：
- PyQt5库已正确安装
- 项目依赖包完整安装
- 数据目录结构已创建

**操作步骤**：
1. 执行命令python run_gui.py启动GUI应用程序
2. 观察主窗口是否成功显示
3. 检查窗口标题是否为"VidTimelineX"
4. 检查窗口尺寸是否为1200x800像素

**预期结果**：
- 应用程序成功启动，无错误弹窗
- 主窗口标题正确显示为"VidTimelineX"
- 窗口尺寸与预期一致
- 窗口位置合理（通常为屏幕中央或指定位置）

**判定标准**：所有检查点均通过，窗口正常显示为测试通过；任一检查点失败为测试不通过。

#### 测试用例：MWN-002 - 窗口组件初始化验证

**前置条件**：主窗口已成功启动

**操作步骤**：
1. 检查左侧导航树是否可见
2. 检查导航树中的功能项是否完整（爬虫功能、数据管理、封面管理、时间线、系统设置）
3. 检查右侧内容区域是否为空或显示默认内容
4. 检查底部状态栏是否显示"就绪"状态
5. 检查数据类型切换标签页是否显示"驴酱"和"甜筒"两个选项卡

**预期结果**：
- 导航树包含所有5个功能项
- 内容区域可正常切换显示
- 状态栏显示"就绪"文本
- 数据类型切换包含两个选项卡

**判定标准**：所有组件正确初始化为测试通过。

#### 测试用例：MWN-003 - 默认数据类型验证

**前置条件**：主窗口已成功启动

**操作步骤**：
1. 检查当前选中的数据类型是否为"lvjiang"（驴酱）
2. 检查状态栏中显示的数据类型标签是否正确
3. 点击"甜筒"选项卡，观察切换效果

**预期结果**：
- 默认数据类型为"lvjiang"
- 切换到"甜筒"后，当前数据类型更新为"tiantong"
- 状态栏显示相应的数据类型信息

**判定标准**：数据类型切换功能正常为测试通过。

### 1.2 导航功能测试

#### 测试用例：MWN-004 - 功能导航切换测试

**前置条件**：主窗口已成功启动，所有功能模块已初始化

**操作步骤**：
1. 点击导航树中的"爬虫功能"项
2. 观察右侧内容区域是否切换到爬虫功能界面
3. 依次点击"数据管理"、"封面管理"、"时间线"、"系统设置"
4. 验证每次点击后内容区域是否正确切换

**预期结果**：
- 点击"爬虫功能"后显示爬虫功能界面
- 点击"数据管理"后显示数据管理界面
- 点击"封面管理"后显示封面管理界面
- 点击"时间线"后显示时间线管理界面
- 点击"系统设置"后显示系统设置界面

**判定标准**：所有导航切换正确为测试通过。

#### 测试用例：MWE-001 - 导航项点击无响应测试

**前置条件**：主窗口已成功启动

**操作步骤**：
1. 点击导航树中一个已展开的功能项
2. 确认点击后内容区域是否切换
3. 连续快速点击多个导航项
4. 观察界面响应是否正常

**预期结果**：
- 单次点击能正确切换内容区域
- 快速连续点击不会导致界面卡顿或崩溃
- 内容区域始终显示最近一次点击对应的功能界面

**判定标准**：导航响应正常，无界面异常为测试通过。

### 1.3 状态栏功能测试

#### 测试用例：MWN-005 - 状态信息更新测试

**前置条件**：主窗口已成功启动，数据类型为"lvjiang"

**操作步骤**：
1. 切换数据类型为"tiantong"
2. 观察状态栏是否显示"切换到数据类型: tiantong"
3. 切换回"lvjiang"
4. 观察状态栏是否显示相应的切换信息

**预期结果**：
- 每次数据类型切换后，状态栏显示对应的切换信息
- 日志区域记录切换操作

**判定标准**：状态信息正确更新为测试通过。

#### 测试用例：MWN-006 - 进度条显示测试

**前置条件**：主窗口已成功启动，爬虫功能模块已加载

**操作步骤**：
1. 进入爬虫功能模块
2. 启动一个长时间运行的爬虫任务
3. 观察进度条是否显示
4. 观察进度条数值是否更新
5. 任务完成后观察进度条是否隐藏

**预期结果**：
- 开始任务后进度条可见
- 任务进行中进度条数值递增
- 任务完成后进度条隐藏

**判定标准**：进度条功能正常为测试通过。

---

## 二、爬虫功能模块测试用例

### 2.1 单个视频爬取测试

#### 测试用例：CWN-001 - 有效BV号爬取测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块，网络连接正常

**操作步骤**：
1. 在BV号输入框中输入有效的BV号（如BV1ux411c7h3）
2. 点击"爬取"按钮
3. 等待爬取完成
4. 检查状态文本区域显示的爬取结果
5. 验证视频信息是否正确保存

**预期结果**：
- 状态区域显示"开始爬取视频: BV号"
- 爬取成功后显示视频标题
- 视频信息保存到对应的数据目录
- 进度条显示100%

**判定标准**：成功爬取有效BV号且信息正确为测试通过。

#### 测试用例：CWE-001 - 无效BV号爬取测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块

**操作步骤**：
1. 在BV号输入框中输入无效的BV号（如BV1234567890）
2. 点击"爬取"按钮
3. 观察错误提示信息

**预期结果**：
- 显示"爬取失败"或类似的错误信息
- 不生成无效的数据文件

**判定标准**：正确处理无效BV号并显示错误提示为测试通过。

#### 测试用例：CWE-002 - 空BV号爬取测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块

**操作步骤**：
1. 保持BV号输入框为空
2. 点击"爬取"按钮
3. 观察弹出的警告提示

**预期结果**：
- 弹出警告对话框，提示"请输入BV号"
- 不执行爬取操作

**判定标准**：正确验证输入并提示用户为测试通过。

#### 测试用例：CWE-003 - 重复爬取测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块，已成功爬取过某个BV号

**操作步骤**：
1. 输入已爬取过的有效BV号
2. 点击"爬取"按钮
3. 观察爬取结果和状态

**预期结果**：
- 正常执行爬取操作
- 可能显示已存在的信息或更新数据
- 不应导致程序崩溃

**判定标准**：重复爬取不会导致异常为测试通过。

### 2.2 批量视频爬取测试

#### 测试用例：CWN-002 - 有效文件批量爬取测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块，存在有效的BV号文件

**操作步骤**：
1. 点击"Browse"按钮选择包含有效BV号的文本文件
2. 点击"批量爬取"按钮
3. 观察批量爬取的执行过程
4. 等待所有任务完成

**预期结果**：
- 文件路径正确显示在输入框中
- 状态区域显示开始批量爬取
- 逐个显示每个BV号的爬取状态
- 最终显示成功和失败的数量统计

**判定标准**：正确执行批量爬取并显示统计结果为测试通过。

#### 测试用例：CWE-004 - 空文件批量爬取测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块

**操作步骤**：
1. 点击"Browse"选择空白的BV号文本文件
2. 点击"批量爬取"按钮
3. 观察警告提示

**预期结果**：
- 弹出警告对话框，提示"文件中没有有效的BV号"

**判定标准**：正确检测空文件并提示为测试通过。

#### 测试用例：CWE-005 - 不存在文件批量爬取测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块

**操作步骤**：
1. 手动输入一个不存在的文件路径
2. 点击"批量爬取"按钮
3. 观察错误提示

**预期结果**：
- 弹出警告对话框，提示"所选文件不存在"

**判定标准**：正确验证文件存在性为测试通过。

#### 测试用例：CWE-006 - 批量爬取中取消测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块，批量爬取任务已开始执行

**操作步骤**：
1. 选择包含多个BV号的文件
2. 启动批量爬取任务
3. 在任务执行过程中尝试关闭应用程序或进行其他操作
4. 观察系统响应

**预期结果**：
- 批量爬取任务正常运行
- 用户可以等待任务完成
- 任务完成后可进行其他操作

**判定标准**：批量爬取过程稳定，不影响其他操作为测试通过。

### 2.3 爬取状态显示测试

#### 测试用例：CWN-003 - 状态文本更新测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块

**操作步骤**：
1. 启动一个视频爬取任务
2. 观察状态文本区域的更新
3. 记录状态更新的频率和内容

**预期结果**：
- 状态文本实时更新
- 显示爬取进度信息
- 显示爬取成功或失败的结果

**判定标准**：状态文本正确反映爬取进度为测试通过。

#### 测试用例：CWB-001 - 进度条边界测试

**前置条件**：主窗口已启动，已切换到爬虫功能模块

**操作步骤**：
1. 启动单个视频爬取
2. 观察进度条从0%到100%的变化
3. 验证进度条数值是否正确

**预期结果**：
- 进度条从0开始
- 逐步递增到100
- 显示准确的进度百分比

**判定标准**：进度条显示正确为测试通过。

---

## 三、数据管理模块测试用例

### 3.1 数据加载测试

#### 测试用例：DMN-001 - 视频数据加载测试

**前置条件**：主窗口已启动，已切换到数据管理模块，数据目录中存在视频数据文件

**操作步骤**：
1. 进入数据管理模块
2. 观察数据表格是否自动加载数据
3. 记录加载的数据条数
4. 检查表格列是否完整（BV号、标题、UP主、发布时间、操作）

**预期结果**：
- 数据表格自动加载并显示视频数据
- 表格显示所有5列
- 每行数据包含正确的字段值

**判定标准**：数据正确加载到表格中为测试通过。

#### 测试用例：DMN-002 - 空数据加载测试

**前置条件**：数据目录中无任何视频数据文件

**操作步骤**：
1. 进入数据管理模块
2. 观察加载结果

**预期结果**：
- 显示空表格或提示信息
- 不产生错误

**判定标准**：正确处理空数据状态为测试通过。

#### 测试用例：DME-001 - 加载过程取消测试

**前置条件**：数据目录中存在大量视频数据文件（100个以上）

**操作步骤**：
1. 进入数据管理模块
2. 观察加载过程是否阻塞界面
3. 尝试在加载过程中进行其他操作

**预期结果**：
- 加载过程不阻塞主界面
- 可以同时查看状态栏等信息
- 数据加载完成后表格更新

**判定标准**：加载过程非阻塞为测试通过。

### 3.2 数据搜索测试

#### 测试用例：DMN-003 - 有效搜索测试

**前置条件**：数据管理模块已加载数据，表格中有至少10条数据

**操作步骤**：
1. 在搜索框中输入一个存在的BV号或标题关键词
2. 点击"搜索"按钮
3. 观察搜索结果

**预期结果**：
- 表格显示符合搜索条件的数据
- 不符合条件的数据被过滤

**判定标准**：搜索功能正确过滤数据为测试通过。

#### 测试用例：DMN-004 - 空搜索结果测试

**前置条件**：数据管理模块已加载数据

**操作步骤**：
1. 在搜索框中输入一个不存在的关键词
2. 点击"搜索"按钮
3. 观察搜索结果

**预期结果**：
- 表格显示空结果或提示无匹配数据
- 不产生错误

**判定标准**：正确处理无搜索结果为测试通过。

#### 测试用例：DME-002 - 空搜索词测试

**前置条件**：数据管理模块已加载数据

**操作步骤**：
1. 保持搜索框为空
2. 点击"搜索"按钮
3. 观察警告提示

**预期结果**：
- 弹出警告对话框，提示"请输入搜索内容"

**判定标准**：正确验证搜索输入为测试通过。

### 3.3 数据查看测试

#### 测试用例：DMN-005 - 数据详情查看测试

**前置条件**：数据管理模块已加载数据，表格中有数据

**操作步骤**：
1. 点击表格中某行的"查看"按钮
2. 观察详情文本区域显示的内容
3. 验证显示的数据格式是否正确

**预期结果**：
- 详情区域显示该视频的完整JSON数据
- 数据格式正确，包含所有字段

**判定标准**：详情查看功能正常为测试通过。

#### 测试用例：DMN-006 - 表格点击查看测试

**前置条件**：数据管理模块已加载数据，表格中有数据

**操作步骤**：
1. 点击表格中的任意单元格（操作列除外）
2. 观察详情区域是否更新

**预期结果**：
- 点击后详情区域显示对应视频的数据

**判定标准**：表格点击触发详情更新为测试通过。

### 3.4 数据导出测试

#### 测试用例：DMN-007 - 数据导出为JSON测试

**前置条件**：数据管理模块已加载数据，表格中有数据

**操作步骤**：
1. 点击"导出数据"按钮
2. 选择保存路径和文件名（.json格式）
3. 点击保存
4. 验证导出的文件内容

**预期结果**：
- 弹出文件保存对话框
- 文件成功保存
- 导出的JSON文件包含所有视频数据

**判定标准**：数据导出功能正常为测试通过。

#### 测试用例：DME-003 - 空数据导出测试

**前置条件**：数据目录为空，无任何视频数据

**操作步骤**：
1. 进入数据管理模块
2. 点击"导出数据"按钮
3. 观察警告提示

**预期结果**：
- 弹出警告对话框，提示"没有数据可导出"

**判定标准**：正确处理空数据导出为测试通过。

### 3.5 数据删除测试

#### 测试用例：DMN-008 - 数据删除确认测试

**前置条件**：数据管理模块已加载数据，表格中有数据

**操作步骤**：
1. 点击某行的"删除"按钮
2. 观察确认对话框
3. 选择"是"确认删除
4. 验证数据是否被删除

**预期结果**：
- 弹出删除确认对话框
- 确认后数据从表格中移除
- 对应的数据文件被删除

**判定标准**：删除功能正常且有确认提示为测试通过。

#### 测试用例：DME-004 - 删除取消测试

**前置条件**：数据管理模块已加载数据，表格中有数据

**操作步骤**：
1. 点击某行的"删除"按钮
2. 在确认对话框中选择"否"取消删除
3. 验证数据是否保留

**预期结果**：
- 数据仍然保留在表格中
- 文件未被删除

**判定标准**：取消删除正确保留数据为测试通过。

---

## 四、封面管理模块测试用例

### 4.1 封面列表加载测试

#### 测试用例：CMN-001 - 封面列表加载测试

**前置条件**：主窗口已启动，已切换到封面管理模块，封面目录中有封面图片

**操作步骤**：
1. 进入封面管理模块
2. 观察封面列表是否加载
3. 记录加载的封面数量
4. 检查每个列表项是否显示BV号和标题

**预期结果**：
- 封面列表显示所有封面
- 每个列表项显示"BV号 - 标题"格式
- 封面总数与实际文件数一致

**判定标准**：封面列表正确加载为测试通过。

#### 测试用例：CMN-002 - 空封面列表测试

**前置条件**：封面目录中无任何封面图片

**操作步骤**：
1. 进入封面管理模块
2. 观察封面列表显示

**预期结果**：
- 封面列表为空
- 显示提示信息"封面目录不存在"

**判定标准**：正确处理空封面列表为测试通过。

### 4.2 封面预览测试

#### 测试用例：CMN-003 - 封面预览显示测试

**前置条件**：封面管理模块已加载封面列表

**操作步骤**：
1. 点击封面列表中的某个封面项
2. 观察封面预览区域
3. 验证封面图片是否正确显示
4. 观察封面信息区域显示的内容

**预期结果**：
- 预览区域显示封面图片
- 图片按比例缩放适应显示区域
- 封面信息显示BV号、标题、文件名等信息

**判定标准**：封面预览功能正常为测试通过。

#### 测试用例：CME-001 - 损坏封面预览测试

**前置条件**：封面目录中存在损坏的图片文件

**操作步骤**：
1. 进入封面管理模块
2. 尝试加载并点击损坏的封面项
3. 观察预览区域显示

**预期结果**：
- 显示"封面图片不存在"或默认占位图
- 不导致程序崩溃

**判定标准**：正确处理损坏封面为测试通过。

### 4.3 封面搜索测试

#### 测试用例：CMN-004 - 封面搜索测试

**前置条件**：封面管理模块已加载封面列表

**操作步骤**：
1. 在封面搜索框中输入存在的BV号
2. 点击"搜索"按钮
3. 观察搜索结果

**预期结果**：
- 列表显示匹配的封面项
- 不匹配的封面被过滤

**判定标准**：封面搜索功能正常为测试通过。

### 4.4 封面下载测试

#### 测试用例：CMN-005 - 单个封面下载测试

**前置条件**：封面管理模块已加载封面列表

**操作步骤**：
1. 在封面列表中选择一个封面
2. 点击"下载所选封面"按钮
3. 选择保存路径
4. 保存文件

**预期结果**：
- 弹出文件保存对话框
- 文件成功保存到指定位置

**判定标准**：单个封面下载功能正常为测试通过。

#### 测试用例：CMN-006 - 批量封面下载测试

**前置条件**：封面管理模块已加载封面列表（至少3个封面）

**操作步骤**：
1. 点击"批量下载封面"按钮
2. 选择保存目录
3. 观察批量下载进度
4. 等待下载完成

**预期结果**：
- 弹出批量下载对话框
- 显示下载进度
- 所有封面成功保存到目录

**判定标准**：批量下载功能正常为测试通过。

---

## 五、时间线管理模块测试用例

### 5.1 时间线列表加载测试

#### 测试用例：TMN-001 - 时间线列表加载测试

**前置条件**：主窗口已启动，已切换到时间线管理模块，时间线目录中有时间线文件

**操作步骤**：
1. 进入时间线管理模块
2. 观察时间线列表是否加载
3. 记录加载的时间线数量
4. 检查每个列表项的名称

**预期结果**：
- 时间线列表显示所有时间线
- 每个列表项显示时间线名称
- 列表数量与实际文件数一致

**判定标准**：时间线列表正确加载为测试通过。

#### 测试用例：TMN-002 - 空时间线列表测试

**前置条件**：时间线目录中无任何时间线文件

**操作步骤**：
1. 进入时间线管理模块
2. 观察时间线列表显示

**预期结果**：
- 时间线列表为空
- 显示提示信息"时间线目录不存在"

**判定标准**：正确处理空时间线列表为测试通过。

### 5.2 时间线内容显示测试

#### 测试用例：TMN-003 - 时间线内容查看测试

**前置条件**：时间线管理模块已加载时间线列表

**操作步骤**：
1. 点击时间线列表中的某个时间线项
2. 观察内容区域显示
3. 验证显示的内容格式是否正确

**预期结果**：
- 内容区域显示时间线名称
- 显示视频列表，包含序号、BV号、标题、发布时间
- 显示总视频数和生成时间

**判定标准**：时间线内容显示正确为测试通过。

### 5.3 时间线生成测试

#### 测试用例：TMN-004 - 时间线生成测试

**前置条件**：主窗口已启动，时间线管理模块已加载，视频数据目录中有视频数据

**操作步骤**：
1. 点击"生成时间线"按钮
2. 观察进度条和进度文本
3. 等待生成完成
4. 检查新生成的时间线是否出现在列表中

**预期结果**：
- 进度条显示生成进度
- 进度文本显示生成状态
- 新时间线成功添加到列表

**判定标准**：时间线生成功能正常为测试通过。

#### 测试用例：TME-001 - 无数据时间线生成测试

**前置条件**：视频数据目录为空

**操作步骤**：
1. 点击"生成时间线"按钮
2. 观察生成结果

**预期结果**：
- 生成失败，提示无视频数据
- 不生成空的时间线文件

**判定标准**：正确处理无数据情况为测试通过。

### 5.4 时间线导出测试

#### 测试用例：TMN-005 - 时间线导出为JSON测试

**前置条件**：时间线管理模块已加载时间线列表

**操作步骤**：
1. 在时间线列表中选择一个时间线
2. 点击"导出时间线"按钮
3. 选择保存路径和文件名（.json格式）
4. 保存文件

**预期结果**：
- 成功导出JSON文件
- 文件包含完整的时间线数据

**判定标准**：时间线JSON导出正常为测试通过。

#### 测试用例：TMN-006 - 时间线导出为文本测试

**前置条件**：时间线管理模块已加载时间线列表

**操作步骤**：
1. 在时间线列表中选择一个时间线
2. 点击"导出时间线"按钮
3. 选择保存路径和文件名（.txt格式）
4. 保存文件

**预期结果**：
- 成功导出文本文件
- 文件包含格式化的文本内容

**判定标准**：时间线文本导出正常为测试通过。

---

## 六、设置管理模块测试用例

### 6.1 设置界面显示测试

#### 测试用例：SMN-001 - 设置界面初始化测试

**前置条件**：主窗口已启动，已切换到系统设置模块

**操作步骤**：
1. 进入系统设置模块
2. 检查设置界面是否显示当前数据类型
3. 检查数据类型路径是否正确显示
4. 检查系统配置选项是否显示

**预期结果**：
- 显示当前数据类型（lvjiang或tiantong）
- 显示所有数据类型路径
- 显示爬虫配置选项（超时、重试次数）
- 显示存储配置选项

**判定标准**：设置界面正确初始化为测试通过。

#### 测试用例：SMN-002 - 路径显示格式测试

**前置条件**：系统设置模块已加载

**操作步骤**：
1. 检查每个路径显示是否正确
2. 验证路径是否为完整路径
3. 检查路径文本是否换行显示

**预期结果**：
- 所有路径显示为完整路径
- 长路径正确换行显示
- 路径可读性良好

**判定标准**：路径显示格式正确为测试通过。

### 6.2 配置保存测试

#### 测试用例：SMN-003 - 配置保存测试

**前置条件**：系统设置模块已加载

**操作步骤**：
1. 修改超时设置值
2. 修改重试次数值
3. 勾选或取消勾选自动创建目录
4. 点击"保存设置"按钮
5. 重启应用程序验证配置是否保留

**预期结果**：
- 弹出成功提示"设置保存成功"
- 配置文件被更新
- 重启后配置保持

**判定标准**：配置保存功能正常为测试通过。

#### 测试用例：SME-001 - 配置保存失败测试

**前置条件**：配置文件路径不可写

**操作步骤**：
1. 修改任意配置项
2. 点击"保存设置"按钮
3. 观察错误提示

**预期结果**：
- 弹出错误提示，显示失败原因
- 配置不保存

**判定标准**：正确处理保存失败为测试通过。

### 6.3 配置重置测试

#### 测试用例：SMN-004 - 配置重置测试

**前置条件**：系统设置模块已加载，配置已被修改

**操作步骤**：
1. 修改多个配置项
2. 点击"重置默认"按钮
3. 在确认对话框中选择"是"
4. 检查配置是否重置

**预期结果**：
- 弹出确认对话框
- 配置重置为默认值
- 弹出成功提示

**判定标准**：配置重置功能正常为测试通过。

#### 测试用例：SME-002 - 重置取消测试

**前置条件**：系统设置模块已加载，配置已被修改

**操作步骤**：
1. 修改任意配置项
2. 点击"重置默认"按钮
3. 在确认对话框中选择"否"
4. 检查配置是否保留修改后的值

**预期结果**：
- 配置保持修改后的值
- 不进行重置操作

**判定标准**：取消重置正确保留配置为测试通过。

### 6.4 数据类型切换测试

#### 测试用例：SMN-005 - 设置页数据类型显示测试

**前置条件**：系统设置模块已加载

**操作步骤**：
1. 切换数据类型为"甜筒"
2. 返回系统设置模块
3. 检查当前数据类型是否更新

**预期结果**：
- 设置页显示当前数据类型为"tiantong"
- 数据类型路径更新为tiantong对应的路径

**判定标准**：设置页数据类型更新正确为测试通过。

---

## 七、边界条件测试用例

### 7.1 输入边界测试

#### 测试用例：BDN-001 - 超长输入测试

**前置条件**：爬虫功能模块已加载

**操作步骤**：
1. 在搜索框中输入超长字符串（超过1000个字符）
2. 执行搜索操作
3. 观察系统响应

**预期结果**：
- 系统正常处理超长输入
- 不导致程序崩溃或无响应

**判定标准**：正确处理超长输入为测试通过。

#### 测试用例：BDN-002 - 特殊字符输入测试

**前置条件**：数据管理模块已加载

**操作步骤**：
1. 在搜索框中输入特殊字符（如<>[]{}等）
2. 执行搜索操作
3. 观察系统响应

**预期结果**：
- 系统正常处理特殊字符输入
- 不导致搜索异常

**判定标准**：正确处理特殊字符为测试通过。

#### 测试用例：BDN-003 - 大量数据加载测试

**前置条件**：数据目录中存在大量视频数据（500个以上）

**操作步骤**：
1. 进入数据管理模块
2. 观察加载时间和界面响应
3. 验证数据完整性

**预期结果**：
- 数据在合理时间内加载完成（不超过30秒）
- 界面保持响应
- 数据完整性正确

**判定标准**：大量数据处理正常为测试通过。

### 7.2 并发操作测试

#### 测试用例：BDN-004 - 多模块切换测试

**前置条件**：主窗口已启动，所有模块已初始化

**操作步骤**：
1. 快速在各个功能模块之间切换
2. 持续切换至少20次
3. 观察系统是否稳定

**预期结果**：
- 切换过程流畅
- 无界面卡顿或崩溃

**判定标准**：多模块切换稳定为测试通过。

#### 测试用例：BDN-005 - 长时间运行测试

**前置条件**：主窗口已启动

**操作步骤**：
1. 保持GUI应用程序运行至少1小时
2. 不进行任何操作
3. 观察内存使用和系统状态

**预期结果**：
- 内存使用稳定，无内存泄漏
- 应用程序保持响应

**判定标准**：长时间运行稳定为测试通过。

### 7.3 文件系统边界测试

#### 测试用例：BDN-006 - 磁盘空间不足测试

**前置条件**：可控制测试环境的磁盘空间

**操作步骤**：
1. 减少可用磁盘空间到极低水平
2. 尝试执行保存操作（如导出数据）
3. 观察错误处理

**预期结果**：
- 正确显示磁盘空间不足错误
- 不导致程序崩溃

**判定标准**：正确处理磁盘空间不足为测试通过。

#### 测试用例：BDN-007 - 路径长度限制测试

**前置条件**：爬虫功能模块已加载

**操作步骤**：
1. 尝试将文件保存到超长路径
2. 观察保存结果

**预期结果**：
- 系统正确处理路径长度限制
- 显示相应错误或正常保存

**判定标准**：正确处理路径长度为测试通过。

---

## 八、异常场景测试用例

### 8.1 网络异常测试

#### 测试用例：EXN-001 - 网络断开测试

**前置条件**：爬虫功能模块已加载，网络可控制

**操作步骤**：
1. 断开网络连接
2. 尝试执行视频爬取操作
3. 观察错误处理

**预期结果**：
- 显示网络连接错误
- 不导致程序崩溃

**判定标准**：正确处理网络断开为测试通过。

#### 测试用例：EXN-002 - 网络超时测试

**前置条件**：爬虫功能模块已加载，可控制网络延迟

**操作步骤**：
1. 设置网络延迟很高（超过请求超时设置）
2. 尝试执行视频爬取操作
3. 观察超时处理

**预期结果**：
- 显示请求超时错误
- 重试机制正常工作（如配置了重试）

**判定标准**：正确处理网络超时为测试通过。

### 8.2 数据异常测试

#### 测试用例：EXN-003 - 损坏数据文件测试

**前置条件**：数据目录中存在损坏的JSON文件

**操作步骤**：
1. 进入数据管理模块
2. 观察损坏数据的处理

**预期结果**：
- 损坏的数据不被加载或显示错误提示
- 不影响其他正常数据的加载

**判定标准**：正确处理损坏数据为测试通过。

#### 测试用例：EXN-004 - 格式错误数据测试

**前置条件**：数据目录中存在格式错误的JSON文件

**操作步骤**：
1. 进入封面管理模块或时间线管理模块
2. 观察格式错误数据的处理

**预期结果**：
- 显示解析错误或跳过错误文件
- 不导致程序崩溃

**判定标准**：正确处理格式错误为测试通过。

### 8.3 权限异常测试

#### 测试用例：EXN-005 - 只读目录测试

**前置条件**：数据目录设置为只读

**操作步骤**：
1. 尝试执行保存操作（如保存设置、导出数据）
2. 观察错误处理

**预期结果**：
- 显示权限错误提示
- 不导致程序崩溃

**判定标准**：正确处理只读目录为测试通过。

#### 测试用例：EXN-006 - 文件锁定测试

**前置条件**：某个数据文件被其他程序锁定

**操作步骤**：
1. 锁定一个视频数据文件
2. 尝试删除该文件
3. 观察错误处理

**判定标准**：正确处理文件锁定为测试通过。

---

## 九、破坏性测试用例

### 9.1 资源耗尽测试

#### 测试用例：DES-001 - 内存耗尽模拟测试

**前置条件**：可控制测试环境

**操作步骤**：
1. 创建大量数据（消耗内存）
2. 观察GUI响应
3. 检查内存使用情况

**预期结果**：
- 系统显示内存警告或稳定运行
- 应用程序保持基本响应

**判定标准**：正确处理内存压力为测试通过。

#### 测试用例：DES-002 - 文件句柄耗尽测试

**前置条件**：可模拟大量文件操作

**操作步骤**：
1. 快速打开大量文件对话框
2. 观察系统响应

**预期结果**：
- 文件对话框正常打开和关闭
- 无资源泄漏

**判定标准**：正确处理文件句柄为测试通过。

### 9.2 强制终止测试

#### 测试用例：DES-003 - 强制关闭测试

**前置条件**：GUI应用程序正在运行

**操作步骤**：
1. 在执行任务过程中强制关闭应用程序
2. 重新启动应用程序
3. 验证数据完整性

**预期结果**：
- 应用程序可以正常重新启动
- 已保存的数据保持完整

**判定标准**：强制关闭后数据完整为测试通过。

#### 测试用例：DES-004 - 进程终止测试

**前置条件**：正在执行批量爬取任务

**操作步骤**：
1. 启动批量爬取任务
2. 通过任务管理器终止进程
3. 重新启动并检查数据

**预期结果**：
- 重新启动后无数据损坏
- 部分完成的数据可用

**判定标准**：进程终止后数据可用为测试通过。

---

## 十、用户界面测试用例

### 10.1 布局测试

#### 测试用例：UIN-001 - 窗口布局测试

**前置条件**：主窗口已启动

**操作步骤**：
1. 检查导航树在左侧，占比约1/5
2. 检查内容区域在右侧，占比约4/5
3. 检查日志区域在底部，高度约100像素
4. 检查状态栏在底部

**预期结果**：
- 各区域布局符合设计
- 比例正确

**判定标准**：窗口布局正确为测试通过。

#### 测试用例：UIN-002 - 组件对齐测试

**前置条件**：任意功能模块已加载

**操作步骤**：
1. 检查各组件是否对齐
2. 检查间距是否一致
3. 检查边距是否正确

**预期结果**：
- 组件对齐整齐
- 间距和边距一致

**判定标准**：组件对齐正确为测试通过。

### 10.2 样式测试

#### 测试用例：UIN-003 - 字体样式测试

**前置条件**：主窗口已启动

**操作步骤**：
1. 检查标题字体大小（应为16px加粗）
2. 检查普通文本字体
3. 检查状态栏信息显示

**预期结果**：
- 标题样式符合设计
- 字体可读性好

**判定标准**：字体样式正确为测试通过。

#### 测试用例：UIN-004 - 颜色对比测试

**前置条件**：主窗口已启动

**操作步骤**：
1. 检查前景色和背景色对比度
2. 检查文字可读性
3. 检查状态指示颜色

**预期结果**：
- 颜色对比度符合可访问性标准
- 文字清晰可读

**判定标准**：颜色对比度合格为测试通过。

### 10.3 响应式设计测试

#### 测试用例：UIN-005 - 窗口大小调整测试

**前置条件**：主窗口已启动

**操作步骤**：
1. 拖拽窗口边缘调整大小
2. 观察各区域是否自适应
3. 最小化和恢复窗口

**预期结果**：
- 各区域随窗口大小调整
- 内容无溢出或截断
- 最小化和恢复正常

**判定标准**：响应式布局正常为测试通过。

#### 测试用例：UIN-006 - 高DPI显示测试

**前置条件**：显示器支持高DPI

**操作步骤**：
1. 在高DPI显示器上运行应用程序
2. 检查界面清晰度
3. 检查元素大小

**预期结果**：
- 界面清晰无模糊
- 元素大小合适

**判定标准**：高DPI显示正确为测试通过。

---

## 十一、性能测试用例

### 11.1 启动性能测试

#### 测试用例：PER-001 - 冷启动时间测试

**前置条件**：应用程序未运行

**操作步骤**：
1. 启动秒表
2. 执行python run_gui.py启动应用程序
3. 记录从执行到主窗口完全显示的时间

**预期结果**：
- 冷启动时间不超过5秒

**判定标准**：启动时间在标准内为测试通过。

#### 测试用例：PER-002 - 热启动时间测试

**前置条件**：应用程序已运行后关闭

**操作步骤**：
1. 关闭应用程序
2. 等待5秒
3. 重新启动应用程序
4. 记录启动时间

**预期结果**：
- 热启动时间不超过3秒

**判定标准**：热启动时间在标准内为测试通过。

### 11.2 操作性能测试

#### 测试用例：PER-003 - 导航切换性能测试

**前置条件**：主窗口已启动

**操作步骤**：
1. 开始计时
2. 执行5次模块切换
3. 停止计时
4. 计算平均切换时间

**预期结果**：
- 平均切换时间不超过500毫秒

**判定标准**：导航切换性能合格为测试通过。

#### 测试用例：PER-004 - 数据加载性能测试

**前置条件**：数据目录中有100个视频数据

**操作步骤**：
1. 开始计时
2. 进入数据管理模块
3. 停止计时

**预期结果**：
- 数据加载时间不超过3秒

**判定标准**：数据加载性能合格为测试通过。

---

## 附录：测试执行清单

### 必测项清单

以下测试用例为必须执行的测试项，覆盖核心功能和关键路径：

窗口初始化相关：MWN-001主窗口正常启动、MWN-002窗口组件初始化验证、MWN-003默认数据类型验证。这三个测试用例确保应用程序能够正常启动并正确初始化所有组件，是后续测试的前提条件。

爬虫功能相关：CWN-001有效BV号爬取、CWN-002有效文件批量爬取、CWE-002空BV号爬取测试、CWE-004空文件批量爬取测试。这些测试用例覆盖爬虫功能的主要使用场景，确保用户能够正常进行视频爬取操作。

数据管理相关：DMN-001视频数据加载、DMN-003有效搜索、DMN-007数据导出、DMN-008数据删除确认。这些测试用例覆盖数据管理的核心操作，确保用户能够有效管理视频数据。

设置管理相关：SMN-001设置界面初始化、SMN-003配置保存、SMN-004配置重置。这些测试用例确保系统配置功能正常。

### 条件测试清单

以下测试用例需要在特定条件下执行：

网络异常测试（EXN-001、EXN-002）需要在可控制网络的环境下执行，建议在测试环境中搭建网络模拟器。

磁盘空间测试（BDN-006）需要在可控制磁盘空间的测试环境中执行，建议使用虚拟机进行测试。

高DPI显示测试（UIN-006）需要在支持高DPI的显示设备上执行。

### 性能测试清单

性能测试应在干净的测试环境中执行，确保结果的准确性。建议在执行性能测试前关闭其他应用程序，清理系统缓存。

---

## 测试结果记录模板

### 单个测试用例记录

测试用例标识：[用例ID]
测试日期：[日期]
测试人员：[姓名]
测试环境：[环境描述]
前置条件：[满足的前置条件]
操作步骤：[执行的步骤]
预期结果：[期望的结果]
实际结果：[实际观察到的结果]
测试状态：[通过/失败/阻塞]
问题描述：[失败时的问题描述]
截图/日志：[相关证据]

### 测试套件汇总

测试套件名称：[套件名称]
测试日期范围：[开始日期至结束日期]
执行用例总数：[数量]
通过用例数：[数量]
失败用例数：[数量]
阻塞用例数：[数量]
通过率：[百分比]
主要问题：[主要失败原因]

---

本文档版本：1.0
创建日期：2026-02-02
最后更新：2026-02-02
文档维护：[项目负责人]