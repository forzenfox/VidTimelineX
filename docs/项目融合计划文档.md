# 项目融合计划文档

## 1. 项目概述

本项目旨在融合 `lvjiang` 和 `react` 两个前端项目，构建一个包含两个独立视频集页面的纯静态网站。该网站将提供清晰的导航入口，允许用户访问不同的视频集内容，并支持通过URL直接访问特定页面。

### 1.1 项目目标

- 构建一个纯静态网站，包含两个独立视频集页面
- 实现基于URL路径的页面路由
- 确保网站在主流浏览器中具有良好的兼容性和响应式设计
- 部署至GitHub平台，通过GitHub Pages可公开访问

### 1.2 项目范围

- 导航页面：作为网站入口，提供视频集选择选项
- "洞主凯哥视频集"页面：展示与"洞主凯哥"相关的视频内容
- "亿口甜筒视频集"页面：展示与"亿口甜筒"相关的视频内容
- 不包含服务端组件或动态数据库
- 不包含用户认证或个性化功能

## 2. 项目架构设计

### 2.1 架构概述

本项目采用现代化的前端架构，基于React + TypeScript + Vite + Tailwind CSS构建。网站将采用纯静态设计，所有内容均在构建时生成，无需服务端运行时支持。

### 2.2 核心架构组件

| 组件 | 功能 | 技术实现 |
|------|------|----------|
| 路由管理 | 基于URL路径的页面导航 | React Router DOM |
| 状态管理 | 组件间状态共享 | React Context API |
| UI组件库 | 统一的UI组件集合 | Radix UI + Tailwind CSS 4 |
| 构建工具 | 项目构建与优化 | Vite |
| 部署工具 | 自动化部署至GitHub Pages | GitHub Actions |

### 2.3 项目目录结构

```
project-root/
├── public/                 # 静态资源
├── src/
│   ├── assets/            # 图片、视频等资源
│   ├── components/        # 通用组件
│   │   ├── ui/            # UI组件库
│   │   ├── Navigation.tsx # 导航组件
│   │   └── VideoCard.tsx  # 视频卡片组件
│   ├── layouts/           # 页面布局组件
│   ├── pages/             # 页面组件
│   │   ├── Index.tsx      # 导航页面
│   │   ├── DongZhuKaiGe.tsx # 洞主凯哥视频集
│   │   └── YiKouTianTong.tsx # 亿口甜筒视频集
│   ├── data/              # 视频数据
│   │   ├── dongzhuKaiGeVideos.ts
│   │   └── yiKouTianTongVideos.ts
│   ├── hooks/             # 自定义钩子
│   ├── lib/               # 工具函数
│   ├── styles/            # 全局样式
│   ├── App.tsx            # 应用入口组件
│   ├── main.tsx           # 项目入口文件
│   └── vite-env.d.ts      # Vite环境类型声明
├── .gitignore             # Git忽略文件
├── components.json        # UI组件配置
├── index.html             # HTML模板
├── package.json           # 项目依赖
├── tailwind.config.js     # Tailwind配置
├── tsconfig.json          # TypeScript配置
└── vite.config.ts         # Vite配置
```

## 3. 页面结构与URL设计

### 3.1 页面结构

| 页面 | 功能 | 主要组件 |
|------|------|----------|
| 导航页面 | 网站入口，提供视频集选择 | 导航卡片、背景装饰 |
| 洞主凯哥视频集 | 展示洞主凯哥相关视频 | 视频时间轴、弹幕效果、主题切换 |
| 亿口甜筒视频集 | 展示亿口甜筒相关视频 | 视频列表、视频卡片、播放功能 |

### 3.2 URL设计方案

| 页面 | URL路径 | 说明 |
|------|---------|------|
| 导航页面 | `/` | 网站主入口 |
| 洞主凯哥视频集 | `/dongzhu-kaige` | 洞主凯哥视频集页面 |
| 亿口甜筒视频集 | `/yi-kou-tian-tong` | 亿口甜筒视频集页面 |
| 404页面 | `/*` | 无效URL重定向至此 |

### 3.3 页面间导航关系

```
┌─────────────────┐     ┌───────────────────────┐
│  导航页面 (/)   │────▶│ 洞主凯哥视频集        │
└─────────────────┘     │ (/dongzhu-kaige)      │
        │               └───────────────────────┘
        ▼
┌─────────────────┐
│ 亿口甜筒视频集  │
│ (/yi-kou-tian-tong) │
└─────────────────┘
```

## 4. 技术栈选择

### 4.1 核心技术栈

| 技术 | 版本 | 用途 | 选择理由 |
|------|------|------|----------|
| React | 19.x | 前端框架 | 现代化、高性能、广泛使用 |
| TypeScript | 5.9.x | 类型系统 | 提高代码质量和可维护性 |
| Vite | 7.x | 构建工具 | 快速开发、优化的构建输出 |
| React Router DOM | 7.x | 路由管理 | 基于URL的页面导航 |
| Tailwind CSS | 4.x | CSS框架 | 高效的样式开发、响应式设计 |
| Radix UI | 1.x | UI组件库 | 可访问性、可定制性强 |

### 4.2 开发工具与依赖

| 工具/依赖 | 用途 |
|-----------|------|
| ESLint | 代码质量检查 |
| Prettier | 代码格式化 |
| Playwright | UI测试 |
| GitHub Actions | 自动化部署 |
| vite-plugin-gh-pages | GitHub Pages部署插件 |

## 5. 开发流程

### 5.1 环境搭建

1. 克隆现有项目代码
2. 创建新的融合项目目录
3. 初始化Vite + React + TypeScript项目
4. 安装所需依赖
5. 配置开发环境

### 5.2 核心功能开发

#### 5.2.1 导航页面开发
- 设计直观的用户界面
- 实现视频集入口卡片
- 添加响应式设计

#### 5.2.2 路由配置
- 配置React Router
- 实现基于URL的页面导航
- 添加404页面处理

#### 5.2.3 视频集页面开发
- 洞主凯哥视频集：复用lvjiang项目的视频时间轴和弹幕效果
- 亿口甜筒视频集：基于react项目的视频卡片组件开发
- 确保两个页面完全独立，内容与功能互不干扰

#### 5.2.4 数据管理
- 分离两个视频集的数据
- 实现数据的模块化管理
- 支持数据的轻松更新

### 5.3 样式与响应式设计
- 统一的设计语言
- 响应式布局适配不同设备
- 优化移动端体验

### 5.4 测试与优化
- 单元测试：组件功能测试
- E2E测试：页面导航和交互测试
- 性能优化：代码分割、资源优化
- 浏览器兼容性测试

## 6. 部署流程

### 6.1 部署准备

1. 在GitHub上创建项目仓库
2. 配置GitHub Pages
3. 配置自动化部署脚本

### 6.2 自动化部署流程

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│ 代码提交至main  │────▶│ GitHub Actions  │────▶│ 构建与测试      │
└─────────────────┘     └─────────────────┘     └─────────────────┘
                                                  │
                                                  ▼
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│ 部署至GitHub    │◀────│ 部署验证        │◀────│ 生成静态文件    │
│ Pages           │     │                 │     │                 │
└─────────────────┘     └─────────────────┘     └─────────────────┘
```

### 6.3 部署配置

- Vite配置：设置base路径为仓库名称
- GitHub Actions配置：创建.yml文件实现自动部署
- 确保构建输出目录为`dist`

## 7. 测试与验证标准

### 7.1 功能测试

| 测试项 | 测试内容 | 成功标准 |
|--------|----------|----------|
| 导航功能 | 从导航页进入不同视频集页面 | 页面切换流畅，URL正确 |
| 直接URL访问 | 通过直接URL访问特定页面 | 正确加载对应页面，无404错误 |
| 视频播放 | 点击视频卡片/时间轴项播放视频 | 视频正常播放，模态框正确显示 |
| 主题切换 | 切换不同主题 | 页面样式正确更新，无样式冲突 |
| 弹幕效果 | 观看视频时显示弹幕 | 弹幕正常滚动，无性能问题 |

### 7.2 性能测试

| 测试项 | 目标值 |
|--------|--------|
| 页面加载时间 | < 2秒 |
| 首次内容绘制 | < 1秒 |
| 交互时间 | < 0.1秒 |
| 资源大小 | < 1MB |

### 7.3 浏览器兼容性

| 浏览器 | 版本 | 兼容性要求 |
|--------|------|------------|
| Chrome | 最新2个版本 | 完全兼容 |
| Firefox | 最新2个版本 | 完全兼容 |
| Safari | 最新2个版本 | 完全兼容 |
| Edge | 最新2个版本 | 完全兼容 |

### 7.4 响应式测试

| 设备类型 | 屏幕尺寸 | 测试内容 |
|----------|----------|----------|
| 桌面端 | > 1024px | 完整功能展示 |
| 平板端 | 768px - 1024px | 响应式布局适配 |
| 移动端 | < 768px | 移动端优化体验 |

## 8. 维护与更新指南

### 8.1 视频数据更新

1. 编辑`src/data/`目录下的视频数据文件
2. 添加、修改或删除视频条目
3. 提交代码至main分支
4. 自动部署流程将更新网站内容

### 8.2 功能更新

1. 在开发分支进行功能开发
2. 编写测试用例验证功能
3. 合并至main分支
4. 自动部署流程将更新网站

### 8.3 样式更新

1. 修改Tailwind配置或样式文件
2. 确保响应式设计适配所有设备
3. 测试浏览器兼容性
4. 提交代码并部署

### 8.4 性能优化

1. 定期检查网站性能
2. 优化图片和资源大小
3. 实现代码分割和懒加载
4. 监控页面加载时间

## 9. 风险评估与应对策略

| 风险 | 影响 | 应对策略 |
|------|------|----------|
| 技术栈版本不兼容 | 构建失败或功能异常 | 统一技术栈版本，进行充分测试 |
| 页面加载缓慢 | 影响用户体验 | 优化资源大小，实现代码分割和懒加载 |
| 浏览器兼容性问题 | 部分浏览器无法正常使用 | 进行全面的浏览器测试，添加兼容代码 |
| 部署失败 | 网站无法访问 | 配置部署验证，添加通知机制 |
| 数据管理混乱 | 内容更新困难 | 实现模块化数据管理，提供清晰的更新指南 |

## 10. 成功标准

1. ✅ 用户可通过导航页选择进入不同视频集
2. ✅ 用户可通过直接URL访问特定视频集页面
3. ✅ 所有页面加载迅速且无功能冲突
4. ✅ 网站在GitHub上成功部署并可公开访问
5. ✅ 两个视频集页面完全独立，内容与功能互不干扰
6. ✅ 网站在主流浏览器中具有良好的兼容性
7. ✅ 网站具有响应式设计，适配不同设备
8. ✅ 视频内容可正常播放
9. ✅ 支持主题切换功能
10. ✅ 代码结构清晰，易于维护和更新

## 11. 后续优化建议

1. 添加视频搜索功能
2. 实现视频分类和标签系统
3. 添加视频播放统计
4. 优化弹幕系统性能
5. 添加黑暗模式支持
6. 实现PWA功能，支持离线访问
7. 添加多语言支持
8. 优化SEO，提高网站可发现性

## 12. 资源与参考

- [React官方文档](https://react.dev/)
- [TypeScript官方文档](https://www.typescriptlang.org/)
- [Vite官方文档](https://vitejs.dev/)
- [React Router官方文档](https://reactrouter.com/)
- [Tailwind CSS官方文档](https://tailwindcss.com/)
- [Radix UI官方文档](https://www.radix-ui.com/)
- [GitHub Pages官方文档](https://pages.github.com/)

## 13. 附录

### 13.1 视频数据格式示例

```typescript
// src/data/dongzhuKaiGeVideos.ts
export interface Video {
  id: string;
  title: string;
  description: string;
  url: string;
  thumbnail: string;
  date: string;
  tags: string[];
}

export const dongzhuKaiGeVideos: Video[] = [
  {
    id: "1",
    title: "洞主凯哥精彩操作集锦",
    description: "洞主凯哥的精彩游戏操作",
    url: "https://www.bilibili.com/video/BV1xx411c7m9",
    thumbnail: "https://i0.hdslb.com/bfs/archive/...",
    date: "2024-01-01",
    tags: ["精彩操作", "游戏集锦"]
  },
  // 更多视频...
];
```

### 13.2 GitHub Actions部署配置示例

```yaml
# .github/workflows/deploy.yml
name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'
      - name: Install dependencies
        run: npm ci
      - name: Build
        run: npm run build
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./dist
```

### 13.3 Vite配置示例

```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import { resolve } from 'path'
import ghPages from 'vite-plugin-gh-pages'

export default defineConfig({
  plugins: [
    react(),
    ghPages()
  ],
  resolve: {
    alias: {
      '@': resolve(__dirname, './src')
    }
  },
  base: '/bilibili-timeline/' // GitHub仓库名称
})
```